#!/bin/bash
#export CFLAGS='-g -W -Wall -pedantic -isystem /home/gflofst/software/pnetcdf/include'
#export CXXFLAGS='-g -W -Wall -pedantic -fpermissive -isystem /home/gflofst/software/pnetcdf/include'
#export LDFLAGS='-L/home/gflofst/software/pnetcdf/lib'
echo Please verify install prefix is correct for this configure

if [ `hostname | cut -c 1-4` == "ewok" ]; then

    ########
    # Ewok #
    ########
    echo "Configure on EWOK"
export CC=mpicc
./configure --prefix=/ccs/home/ge1/work/ewok \
            --enable-dependency-tracking \
            --with-mxml=/ccs/home/ge1/work/ewok \
            --with-phdf5=/apps/HDF5/1.6.5/ewok_par/pgi625 \
            --with-hdf5=/apps/HDF5/1.6.5/ewok_ser \
            --with-netcdf=/apps/netcdf/3.6.1/ewok_x86_64_pgi625
 
elif [ `hostname | cut -c 1-6` == "jaguar" ]; then

    ##########
    # Jaguar #
    ##########
    echo "Configure on JAGUAR"
export CC=cc
export FC=ftn
# use the two lines below for openmpi
#export CC=mpicc
#export FC=mpif90
# use for both MPI implementations
./configure --prefix=/ccs/home/ge1/work/jaguar \
            --enable-dependency-tracking \
            --with-mxml=/ccs/home/ge1/work/jaguar \
            --with-hdf5=/sw/xt5/hdf5/1.6.7/cnl2.1_gnu4.2.4 \
            --with-hdf5-libdir="/sw/xt5/hdf5/1.6.7/cnl2.1_gnu4.2.4/lib -L/sw/xt5/szip/2.1/sles10.1_gnu4.2.4/lib -lsz -lz" \
            --with-phdf5=/sw/xt5/hdf5/1.6.7/cnl2.1_gnu4.2.4_par \
            --with-phdf5-libdir="/sw/xt5/hdf5/1.6.7/cnl2.1_gnu4.2.4_par/lib -L/sw/xt5/szip/2.1/sles10.1_gnu4.2.4/lib -lsz -lz" \
            --with-netcdf=/sw/xt5/netcdf/3.6.2/sles10.1_gnu4.2.0

elif [ `hostname | cut -c 1-4` == "lens" ]; then

    ########
    # Lens #
    ########
    echo "Configure on LENS"
export CC=mpicc
./configure --prefix=/ccs/home/ge1/work/lens \
            --enable-dependency-tracking \
            --with-mxml=/ccs/home/ge1/work/lens \
            --with-hdf5=/sw/analysis-x64/hdf5/1.6.7/sl5.0_pgi7.1.5_ompi1.2.6 \
            --with-phdf5=/sw/analysis-x64/hdf5/1.6.7/sl5.0_pgi7.1.5_ompi1.2.6 \
            --with-netcdf=/sw/analysis-x64/netcdf/3.6.2/sl5.0_pgi7.1.5
elif [ `hostname | cut -c 1-4` == "skla" ]; then

    ########
    # ubuntu #
    ########
    echo "Configure on UBUNTU"
export CC=mpicc
./configure --prefix=/usr/local/adios \
            --enable-dependency-tracking \
            --with-mxml=/usr/local/adios \
            --with-hdf5=/usr/local/hdf5-serial\
            --with-phdf5=/usr/local \
            --with-netcdf=/usr

elif [ `hostname | cut -c 1-4` == "nid0" ]; then
    ############
    # Franklin #
    ############
    echo "Configure on FRANKLIN"
    export CC=cc
    export FC=ftn
    module load netcdf
    module load hdf5_par
    ./configure --prefix=/project/projectdirs/m499/adios \
    --enable-dependency-tracking \
    --with-mxml=$HOME/mxml 
    #--with-phdf5=/usr/common/usg/hdf5/1.6.5/parallel/lib \
    #--with-phdf5-libdir="/usr/common/usg/hdf5/1.6.5/parallel/lib -lhdf5_fortran -lhdf5_hl -lhdf5 -L/usr/common/usg/zlib/default/lib -lz -L/usr/common/usg/szip/default/lib -lsz -I/usr/common/usg/hdf5/1.6.5/parallel/include -I/usr/common/usg/zlib/default/include -I/usr/common/usg/szip/default/include" \
    #--with-netcdf=/usr/common/usg/netcdf/3.6.2
    
else
    echo "I have no idea what machine is this"
fi
    
    
    
